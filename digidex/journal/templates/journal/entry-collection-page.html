{% load static %}
<!DOCTYPE html>
<html>
  <head>  
    <meta charset="utf-8">
    <title>Journal Collection - Digidex - Smart Garden Management</title>
    <meta content="A platform for gardeners to cultivate their curiosity." name="description">
    <meta content="Digit Storage System - Digidex - Smart Garden Management" property="og:title">
    <meta content="A platform for gardeners to cultivate their curiosity." property="og:description">
    <meta content="Digit Storage System - Digidex - Smart Garden Management" property="twitter:title">
    <meta content="A platform for gardeners to cultivate their curiosity." property="twitter:description">
    <meta property="og:type" content="website">
    <meta content="summary_large_image" name="twitter:card">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <link href="{% static 'base/css/normalize.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'base/css/base-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'digidex/css/digidex-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'journal/css/journal-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
    
    <!-- Load Fonts -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Space Grotesk:regular,500,600,700", "IBM Plex Mono:regular,italic,500,500italic,600,600italic,700,700italic"]
        }
      });
    </script>
    
    <link href="{% static 'digidex/images/favicon.png' %}" rel="shortcut icon" type="image/x-icon">
    <link href="{% static 'digidex/images/webclip.png' %}" rel="apple-touch-icon">
  </head>
  <body>
    {% include 'main/partials/navigation-bar.html' %}
    <section class="section-top">
      <div class="content">
        <div class="block-top">
          <h1 class="heading-top">{{ collection.get_digit_name }}</h1>
          <p class="paragraph-top">{{ collection.get_digit_description }}</p>
        </div>
      </div>
    </section>
    <!-- Display Latest Entry -->
    <section class="section">
      <div class="content">
        {% if latest_entry or other_entries %}
          {% if latest_entry %}
            <div class="collection-list-wrapper-posts large base-dyn-list">
              <div role="list" class="collection-list-posts large base-dyn-items">
                <div role="listitem" class="base-dyn-item">
                  <div class="block-post large">
                    <a href="{{ latest_entry.get_absolute_url }}" class="link-post-thumbnail large base-inline-block">
                      {% if latest_entry.image %}
                      <img alt="Journal Entry Image" loading="eager" src="{{ latest_entry.image.url }}" class="image-post-thumbnail large">
                      {% endif %}
                    </a>
                    <div class="post large">
                      <div class="date">{{ latest_entry.created_at|date:"M d, Y" }}</div>
                      <a href="{{ latest_entry.get_absolute_url }}" class="link-heading-post large base-inline-block">
                        <h3 class="heading-post">Latest Entry</h3>
                      </a>
                      <p class="paragraph-post large">{{ latest_entry.content|truncatewords:20 }}</p>
                      <a href="{{ latest_entry.get_absolute_url }}" class="link-block base-inline-block">
                        <div class="text-link">Read more</div>
                        <div class="block-icon-link"><img src="{% static 'digidex/images/bx-arrow-to-right_blue.svg' %}" loading="eager" alt="" class="icon-link"></div>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {% endif %}

          {% if other_entries %}
            <div class="collection-list-wrapper-posts base-dyn-list">
              <div role="list" class="collection-list-posts base-dyn-items">
                {% for entry in other_entries %}
                <div role="listitem" class="base-dyn-item">
                  <div class="block-post">
                    <a href="{{ entry.get_absolute_url }}" class="link-post-thumbnail base-inline-block">
                      {% if entry.image %}
                      <img alt="Journal Entry Image" loading="eager" src="{{ entry.image.url }}" class="image-post-thumbnail">
                      {% endif %}
                    </a>
                    <div class="post">
                      <div class="date">{{ entry.created_at|date:"M d, Y" }}</div>
                      <a href="{{ entry.get_absolute_url }}" class="link-heading-post base-inline-block">
                        <h4 class="heading-post">{{ entry|truncatewords:5 }}</h4>
                      </a>
                      <p class="paragraph-post">{{ entry.content|truncatewords:20 }}</p>
                      <a href="{{ entry.get_absolute_url }}" class="link-block base-inline-block">
                        <div class="text-link">Read more</div>
                        <div class="block-icon-link"><img src="{% static 'digidex/images/bx-arrow-to-right_blue.svg' %}" loading="eager" alt="" class="icon-link"></div>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          {% endif %}

        {% else %}
          <div class="empty-state base-dyn-empty">
            <div class="text-empty">No journal entries found.</div>
          </div>
        {% endif %}
      </div>
    </section>
  </body>
</html>