{% load static %}
<!DOCTYPE html>
<html>
  <head>  
    <meta charset="utf-8">
    <title>Digit Details - Digidex - Smart Garden Management</title>
    <meta content="A platform for gardeners to cultivate their curiosity." name="description">
    <meta content="Digit Details - Digidex - Smart Garden Management" property="og:title">
    <meta content="A platform for gardeners to cultivate their curiosity." property="og:description">
    <meta content="Digit Details - Digidex - Smart Garden Management" property="twitter:title">
    <meta content="A platform for gardeners to cultivate their curiosity." property="twitter:description">
    <meta property="og:type" content="website">
    <meta content="summary_large_image" name="twitter:card">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <link href="{% static 'base/css/normalize.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'base/css/base-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'digidex/css/digidex-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'inventory/css/inventory-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
    
    <!-- Load Fonts -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Space Grotesk:regular,500,600,700", "IBM Plex Mono:regular,italic,500,500italic,600,600italic,700,700italic"]
        }
      });
    </script>
    
    <link href="{% static 'digidex/images/favicon.png' %}" rel="shortcut icon" type="image/x-icon">
    <link href="{% static 'digidex/images/webclip.png' %}" rel="apple-touch-icon">
  </head>
  <body>
    {% include 'main/partials/navigation-bar.html' %}
    <section class="section">
      <div class="content narrow">
        <div class="digit-body">
          <div class="rich-text-block base-rich-text">
            <div class="block-heading center">
              <h3 class="heading">{{ digit.name }}</h3>
              <div class="date">Created: {{ digit.created_at }}</div>
              <p class="paragraph">{{ digit.description }}</p>
              <a href="{% url 'inventory:digit-modification' digit.nfc_link.serial_number %}" class="account-link">Edit Digit</a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section">
      <div class="content narrow">
        <div class="digit-body">
          <div class="rich-text-block base-rich-text">
            <div class="block-heading center">
              <div class="subtitle green">Journal<br></div>
              <h3 class="heading">{{ digit.name }}'s Journal Entries</h3>
              <p class="paragraph">{{ digit.description }}</p>
              <a href="{% url 'journal:add-entry' collection_id=digit.journal_collection.id %}" class="account-link">Add Journal Entry</a>
            </div>
            <figure style="max-width:882px" class="base-rich-text-align-fullwidth base-rich-text-figure-type-image main-digit-image">
              {% if last_image %}
                <div>
                  <img src="{{ last_image.url }}" loading="lazy" alt="Recent image of {{ digit.name }}">
                </div>
              {% else %}
                <div>
                  <img src="{% static 'digidex/images/placeholder.svg' %}"  loading="lazy" alt="">
                </div>
              {% endif %}
              <figcaption>
                <p class="base-rich-text-figcaption">Recent image of {{ digit.name }}</p>
              </figcaption>
            </figure>
            <div class="journal-container">
              <ol start="" role="list">
                {% for entry in journal_entries %}
                  <li>
                    <div class="journal-entry">
                      <div class="journal-entry-header"></div>
                      <span class="journal-entry-date">Date: {{ entry.created_at|date:"Y-m-d H:i" }}</span>
                      <span class="journal-entry-author">Author: {{ entry.user }}</span>
                      <p class="journal-entry-content">{{ entry.content }}</p>
                    </div>
                  </li>
                {% empty %}
                  No journal entries.
                {% endfor %}
              </ol>
            </div>
          </div>
        </div>
      </div>
    </section>
    {% if digit.taxonomic_unit %}
      <section class="section">
        <div class="content narrow">
          <div class="digit-body">
            <div class="rich-text-block base-rich-text">
              <div class="block-heading center">
                <div class="subtitle green">Taxonomy<br></div>
                <h2 class="heading">{{ digit.taxonomic_unit.complete_name }}</h2>
              </div>
              <div class="layout-grid grid-taxonomy">
                <div class="taxonomy">
                  <div class="block-heading-taxonomy">
                    <h5 class="heading-taxonomy">Taxonomy Class</h5><img src="{% static 'main/images/lightning.svg' %}" loading="eager" alt="" class="icon-taxonomy">
                  </div>
                  <p class="paragraph-taxonomy">Taxonomy Class Details</p>
                </div>
                <div class="taxonomy">
                  <div class="block-heading-taxonomy">
                    <h5 class="heading-taxonomy">Taxonomy Geographic Division</h5><img src="{% static 'main/images/lightning.svg' %}" loading="eager" alt="" class="icon-taxonomy">
                  </div>
                  <p class="paragraph-taxonomy">Taxonomy Geographic Division Details</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    {% endif %}
  </body>
</html>