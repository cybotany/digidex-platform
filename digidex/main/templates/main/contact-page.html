{% load static %}
<!DOCTYPE html>
<html>
  <head>  
    <meta charset="utf-8">
    <title>Contact - Digidex</title>
    <meta content="A platform for gardeners to cultivate their curiosity." name="description">
    <meta content="Contact - Digidex" property="og:title">
    <meta content="A platform for gardeners to cultivate their curiosity." property="og:description">
    <meta content="Contact - Digidex" property="twitter:title">
    <meta content="A platform for gardeners to cultivate their curiosity." property="twitter:description">
    <meta property="og:type" content="website">
    <meta content="summary_large_image" name="twitter:card">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <link href="{% static 'base/css/normalize.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'base/css/base-styles.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'digidex/css/digidex-styles.css' %}" rel="stylesheet" type="text/css">
  
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">

    <!-- Load reCAPTCHA js code -->
    <script src="https://www.google.com/recaptcha/enterprise.js?render={{ RECAPTCHA_SITE_KEY }}"></script>
    
    <!-- Load Fonts -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">
      WebFont.load({
        google: {
          families: ["Space Grotesk:regular,500,600,700", "IBM Plex Mono:regular,italic,500,500italic,600,600italic,700,700italic"]
        }
      });
    </script>
    
    <link href="{% static 'digidex/images/favicon.png' %}" rel="shortcut icon" type="image/x-icon">
    <link href="{% static 'digidex/images/webclip.png' %}" rel="apple-touch-icon">
  </head>
  <body>
    {% include 'navigation-bar.html' %}
    <div class="collection-list-wrapper-messages base-dyn-list">
      {% if messages %}
      <div role="list" class="base-dyn-items">
        {% for message in messages %}
          <div role="listitem" class="base-dyn-item">
            <div class="{% if message.tags %}{{ message.tags }}-message{% endif %}">
              <span class="text-{% if message.tags %}{{ message.tags }}{% endif %}">{{ message }}</span>
            </div>
          </div>
        {% endfor %}
      </div>  
       {% endif %}  
    </div>
    <section class="section full">
      <div class="content">
        <div class="account-form">
          <div class="subtitle green">Contact<br></div>
          <h2 class="heading-contact">Wanna Talk More?</h2>
          <div class="form-block base-form">
            {% include 'main/partials/contact-form.html' %}
          </div>
        </div>
      </div>
    </section>
    <script>
      document.getElementById('submitBtn').addEventListener('click', function(event) {
          event.preventDefault();  // Prevent the default form submit
  
          grecaptcha.enterprise.execute('{{ RECAPTCHA_SITE_KEY }}', {action: 'contact_us'}).then(function(token) {
              // Add the token to a hidden field
              var inputToken = document.createElement('input');
              inputToken.setAttribute('type', 'hidden');
              inputToken.setAttribute('name', 'g-recaptcha-response');
              inputToken.setAttribute('value', token);
              document.getElementById('contactForm').appendChild(inputToken);
  
              // Submit the form
              document.getElementById('contactForm').submit();
          });
      });
  </script>   
  </body>
</html>